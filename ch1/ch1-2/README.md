# Redis通讯协议

## 介绍

Redis 的客户端和服务端是通过TCP连接来进行数据交互，服务器默认的端口号为6379. 客户端和服务端发送的命令或数据一律以\r\n (CRLF)结尾 (这是一条约定)

#### 请求协议

* 1. 格式示例
```
*<参数数量> CR LF
$<参数1的字节数量> CR LF
<参数1的数据> CR LF
...
$<参数N的字节数量> CR LF
<参数N的数量> CR LF
```
在该协议下所有发送至Redis服务器的参数都是二进制安全(binary safe)的


#### 回复

Redis会根据你请求协议的不同(执行的命令结果也不同)，返回多种不同类型的回复，这个回复"协议"中，可以通过检查第一个字节，确定这个回复是什么类型

* 状态回复 (status reply) 的第一个字节是"+"
* 错误回复 (error reply) 的第一个字节是"-"
* 整数回复 (integer reply) 的第一个字节是":"
* 批量回复 (bulk reply) 的第一个字节是"$"
* 多条批量回复 (multi bulk reply) 的第一个字节是 "*"

